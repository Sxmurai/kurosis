plugins {
    id 'java'
}

version = '1.0.0'
group = 'no.kurosis'

configurations {
    embed
    implementation.extendsFrom embed
}

repositories {
    mavenCentral()
    maven {
        name 'nms-repo'
        url 'https://repo.codemc.org/repository/nms/'
    }
    maven {
        url = "https://repo.dmulloy2.net/repository/public/"
    }
    maven {
        name = "jitpack.io"
        url = "https://jitpack.io"
    }
}

dependencies {
    compileOnly group: 'org.spigotmc', name: 'spigot', version: '1.8.8-R0.1-SNAPSHOT'
    embed "com.github.therealbush:eventbus:1.0.2"
}

jar {
        from(configurations.embed.collect {
        it.isDirectory() ? it : zipTree(it)
    }) {
        exclude 'dummyThing',
                'LICENSE.txt',
                'META-INF/MUMFREY.RSA',
                'META-INF/maven/**',
                'org/**/*.html'
    }
}